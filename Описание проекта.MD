# Описание проекта

## Краткое описание программы

Наш проект представляет собой консольное приложение, ssh чат, в котором студенты группы могут обсуждать процесс обучения.

Процесс подключения к группе состоит из открытия терминала и подключения к беседе по ssh-адресу.

![Процесс подключения](./images/2020-05-27-12-08-30.png)

Здесь **los-kotyara-win10-laptop** это адрес ssh-сервера и **2200** это порт, на котором этот сервер работает.

После подключения пользователь видит консоль, в которой видны приветствие, несколько предыдущих сообщений и список пользователей.

![Окно приложения](./images/2020-05-27-12-12-16.png)

Пример работы приложения

![Работа приложения](./images/1XTLGaF96J.gif)

## Как это работает

Сама программа написана на языке JavaScript, фреймворк Node.JS

На машине сервера запускается программа, в которой подключается необходимый для создания ssh соединения пакет - ssh2. Затем загружаются необходимые конфигурации сервера, доступные команды, сообщения сервера для приветствия и описания доступных команд. Эти данные записываются в глобальную переменную, которая будет доступна из любой точки приложения. Сервер запускается на порте, указанном в файле конфигураций.

![Листинг главного файла проекта](./images/2020-05-27-12-28-51.png)

При подключении пользователя к серверу, производится создание объекта пользователя и обработчики событий для этого пользователя. Когда пользователь пытается войти в беседу запускается функция-обработчик авторизации. Сначала проверяется, допустим ли ник пользователя, и, если ник не доступен, предлагает ему ввести другой ник. Когда введён допустимый ник пользователь попадает в беседу.

![Листинг обработчика авторизации](./images/2020-05-27-12-31-54.png)

Также описаны функции, выполняемые, когда пользователь готов к получению и отправке сообщений, когда пользователь выходит из чата и функция-заглушка, не приводящая к падению сервера, когда происходит какая-либо ошибка.

![Используемые обработчики событий](./images/2020-05-27-12-33-59.png)

Были разработаны функции-помощники, которые позволяют, например, регистрировать всё, что происходит на сервере: подключение/отключение пользователей, сообщения и так далее.

![Функции-помощники](./images/2020-05-27-12-36-01.png)

Обработка оболочки терминала пользователей происходит на стороне сервера. При подключении и, например, изменении размера окна терминала, происходит обращение пользователя к серверу с целью отобразить все необходимые данные беседы.

![Главный файл обработки оболочки пользователя](./images/2020-05-27-12-40-32.png)

## Дальнейшие планы

Ввиду того, что приложением будет пользоваться группа пользователей, необходимо добавление систем безопасности в виде парольного доступа, ввода правовой системы, хеширования паролей.

Также было в планах добавление в приложение ботов, например, бот, следящий за соблюдением правил чата, бот, проводящий викторины.

Предложенные добавления смогут улучшить пользовательский опыт и сделать его более безопасным.
